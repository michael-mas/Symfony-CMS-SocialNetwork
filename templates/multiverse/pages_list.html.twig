{% extends 'base.html.twig' %}

{% block title %}Nouvelle publication{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('css/pages_list.css') }}">
{% endblock %} 

{% block body %}

<navi>
   <a title="Créer univers" href="{{ path('page_new') }}#first"><i class="far fa-file-alt"></i></a>
   <a title="Créer categorie" href="{{ path('page_new') }}#second"><i class="fas fa-newspaper"></i></a>
   <a title="Voir pages" href="{{ path('pages.list.alls') }}"><i class="fas fa-binoculars"></i></a>
   <a title="Widget" href="{{ path('widget_new') }}"><i class="fas fa-hat-wizard"></i></a>
   <a title="Accueil" href="{{ path('page_new') }}"><i class="fas fa-home"></i></a>
 </navi>

<h1>Listes de vos pages</h1>
<hr style="width:70%">

<p style="text-align:center; font-weight:bold; color:black">
{% for success in app.flashes('success') %}
{{ success }}
{% endfor %}
</p>

<div class="galerie">
 {% for pages in pages %}
 <div class="item">
    <div  style="width: 18rem; margin-right: 1%; margin-top: 2%; margin-bottom: 2%;">
        <div >
            <h5 >{{ pages.title }}</h5>
            <hr>
            <div style="height:90px;overflow-y:scroll;">
            <h6 >{{ pages.content }} </h6>
            </div>
            <hr>
            <p>Categorie : {{ pages.categories }}</p>
            <hr>
             <img width="100%" height="250px" src="{{ asset('page_image/' ~ pages.images) }}" alt="{{pages.images}}" />
              <hr>
            <a href="{{ path('pages.vue', {id: pages.id}) }}">
                <i class="fas fa-eye"></i>
            </a>
           
                <a onclick="return confirm('Etes vous sur?')" href="{{ path('pages.delete', {id: pages.id}) }}">
                    <i class="fas fa-times"></i>
                </a>
                <a href="{{ path('pages.edit', {id: pages.id}) }}#first" >
                    <i class="fas fa-edit"></i>
                </a>
        </div>
    </div>
 </div>
    {% endfor %}
</div>
    {% if isPaginated is defined and isPaginated %}
        <div>
            <nav class="navPage" aria-label="col Page navigation example">
                <ul class="paginate-box-list">
                    {% if page != 1 %}
                        <li>
                            <a
                                    class="page-link"
                                    href="{{ path('pages.list.alls', {page: page - 1, nbre: nbre}) }}"
                            >
                                Début
                            </a></li>
                    {% endif %}
                    {% for i in range(1, nbrePage) %}
                        <li>
                            <a
                               class="page-link"
                               href="{{ path('pages.list.alls', {page: i, nbre: nbre}) }}"
                            >{{ i }}
                            </a>
                        </li>
                    {% endfor %}
                    {% if page != nbrePage %}
                        <li>
                            <a
                                    class="page-link"
                                    href="{{ path('pages.list.alls', {page: page + 1, nbre: nbre}) }}"
                            >Fin</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </div>
 {% endif %}


<script src="https://kit.fontawesome.com/d5fba335cd.js" crossorigin="anonymous"></script>
{% endblock %}