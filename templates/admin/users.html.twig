{% include 'admin/index.html.twig' %}

<title>{% block title %}Liste des utilisteurs{% endblock %}</title>

{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
{% endblock %}



{% block body %}


<!-- MAIN -->
<main id="pgmain">
 
    <h1 class="text-center mb-3">Utilisateurs du site</h1>
    <hr>
    <div class="row d-flex justify-content-center">
        {% for user in users %}
        <div class="col-lg-4 col-md-6 col-sm-12 col-12">
        <div class="card text-center" style="width: 18rem; margin-right: 1%; margin-top: 2%; margin-bottom: 2%;">
            <div class="card-body">
                <h5 class="card-title">{{ user.username }}</h5>
                <hr>
                <div style="height:50px;overflow-y:scroll;">
                <h6 class="card-subtitle mb-2 mt-1 text-muted">{{ user.info }} </h6>
                </div>
                 <img width="100%" height="250px" src="{{ asset('' ~ user.pfp) }}" alt="{{user.pfp}}" />
                  <hr>
                  <a style="text-decoration: none;" href="{{ path('users.detail', {id: user.id}) }}" class="card-link">
                    <i style="font-size:17px;" title="Détails"  class="material-icons">info</i>
                  </a>
                  {% if is_granted('ROLE_ADMIN') %}
                  <a onclick="return confirm('Etes vous sur?')" href="{{ path('users.delete', {id: user.id}) }}" class="card-link">
                    <i style="font-size:17px" title="Détails"  class="material-icons">delete</i>
                  </a>
                  {% endif %}
                
            </div>
        </div>
    </div>
        {% endfor %}
    </div>
        {% if isPaginated is defined and isPaginated %}
            <div class="row mt-2">
                <nav aria-label="col Page navigation example">
                    <ul class="pagination">
                        {% if page != 1 %}
                            <li class="page-item">
                                <a
                                        class="page-link"
                                        href="{{ path('users.list.alls', {page: page - 1, nbre: nbre}) }}"
                                >
                                    Précèdent
                                </a></li>
                        {% endif %}
                        {% for i in range(1, nbrePage) %}
                            <li class="page-item">
                                <a class="page-link"
                                   href="{{ path('users.list.alls', {page: i, nbre: nbre}) }}"
                                >{{ i }}
                                </a>
                            </li>
                        {% endfor %}
                        {% if page != nbrePage %}
                            <li class="page-item">
                                <a
                                        class="page-link"
                                        href="{{ path('users.list.alls', {page: page + 1, nbre: nbre}) }}"
                                >Suivant</a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
    
            </div>
        {% endif %}

</main>



{% endblock %}

